<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJ's Pre-Birthday Get-Together</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- PHOENIX THEME VARIABLES --- */
        :root {
            --ember-gold: #ffbe0b;
            --ember-orange: #fb5607;
            --ember-red: #ff006e;
            --bg-dark: #101010;
        }
        body {
            font-family: 'Poppins', sans-serif;
        }
        .font-cinzel {
            font-family: 'Cinzel', serif;
        }
        .header-glow {
            text-shadow: 0 0 5px var(--ember-gold), 0 0 15px var(--ember-orange);
        }
        /* --- Modal Styles --- */
        .modal-overlay {
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out, max-width 0.3s ease-in-out;
        }
        .modal-content.modal-map {
            max-width: 95%;
            width: 100%;
        }
        .map-container iframe {
            width: 100%;
            height: 70vh;
            max-height: 600px;
            border-radius: 0.5rem;
            border: 2px solid var(--ember-orange);
        }
    </style>
</head>
<body class="bg-black">

    <div id="main-content" class="max-w-md mx-auto min-h-screen bg-black flex flex-col">
        <!-- Header -->
        <header class="p-4">
            <div class="flex justify-start items-center">
                <button class="text-gray-400 hover:text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <h1 class="font-cinzel text-4xl font-bold text-white mt-4 tracking-wider header-glow">
                AJ's Pre-Birthday Get-Together
            </h1>
        </header>

        <!-- Details Grid -->
        <main class="p-4 flex-grow">
            <div class="grid grid-cols-2 gap-4">
                <!-- Card 1: Date & Time -->
                <button data-modal-target="datetime-modal" class="info-card text-left bg-[#1a1a1a] p-4 rounded-xl border border-[var(--ember-orange)]/50 shadow-lg shadow-[var(--ember-orange)]/10 hover:border-[var(--ember-orange)] transition-all">
                    <div class="bg-[var(--ember-orange)]/20 rounded-full w-10 h-10 flex items-center justify-center mb-3">
                        <svg class="w-6 h-6 text-[var(--ember-orange)]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M12 12.75h.008v.008H12v-.008z" /></svg>
                    </div>
                    <h3 class="font-semibold text-white">Date & Time</h3>
                    <p class="text-sm text-gray-400 mt-1">August 2nd, 2025<br>7:00 PM</p>
                </button>

                <!-- Card 2: Location -->
                <button data-modal-target="location-modal" class="info-card text-left bg-[#1a1a1a] p-4 rounded-xl border border-[var(--ember-orange)]/50 shadow-lg shadow-[var(--ember-orange)]/10 hover:border-[var(--ember-orange)] transition-all">
                    <div class="bg-[var(--ember-orange)]/20 rounded-full w-10 h-10 flex items-center justify-center mb-3">
                        <svg class="w-6 h-6 text-[var(--ember-orange)]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" /></svg>
                    </div>
                    <h3 class="font-semibold text-white">Location</h3>
                    <p class="text-sm text-gray-400 mt-1">Horizons and More, San Antonio, TX</p>
                </button>

                <!-- Card 3: Dress Code -->
                <button data-modal-target="dresscode-modal" class="info-card text-left bg-[#1a1a1a] p-4 rounded-xl border border-[var(--ember-gold)]/50 shadow-lg shadow-[var(--ember-gold)]/10 hover:border-[var(--ember-gold)] transition-all">
                     <div class="bg-[var(--ember-gold)]/20 rounded-full w-10 h-10 flex items-center justify-center mb-3">
                         <svg class="w-6 h-6 text-[var(--ember-gold)]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 6l1.5-1.5M6 6v3.75M6 6h3.75m-3.75 0L1.5 1.5M12 12l1.5-1.5M12 12v3.75M12 12h3.75m-3.75 0L7.5 7.5M18 18l1.5-1.5M18 18v3.75M18 18h3.75m-3.75 0L13.5 13.5M6 18l-1.5-1.5M6 18v-3.75M6 18H2.25m3.75 0L10.5 13.5" /></svg>
                    </div>
                    <h3 class="font-semibold text-white">Dress Code</h3>
                    <p class="text-sm text-gray-400 mt-1">Fly, Flamed, & Fierce</p>
                </button>

                <!-- Card 4: The Vibe -->
                <button data-modal-target="vibe-modal" class="info-card text-left bg-[#1a1a1a] p-4 rounded-xl border border-[var(--ember-gold)]/50 shadow-lg shadow-[var(--ember-gold)]/10 hover:border-[var(--ember-gold)] transition-all">
                    <div class="bg-[var(--ember-gold)]/20 rounded-full w-10 h-10 flex items-center justify-center mb-3">
                        <svg class="w-6 h-6 text-[var(--ember-gold)]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66a2.25 2.25 0 001.632-2.163zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 01-.99-3.467l2.31-.66A2.25 2.25 0 009 15.553z" /></svg>
                    </div>
                    <h3 class="font-semibold text-white">The Vibe</h3>
                    <p class="text-sm text-gray-400 mt-1">Royalty. No drama, just fire.</p>
                </button>
                
                <!-- Card 5: View Map -->
                <button data-modal-target="map-modal" class="info-card text-left bg-[#1a1a1a] p-4 rounded-xl border border-[var(--ember-orange)]/50 shadow-lg shadow-[var(--ember-orange)]/10 col-span-1 hover:border-[var(--ember-orange)] transition-all">
                    <div class="flex flex-col items-center justify-center h-full">
                        <div class="bg-[var(--ember-orange)]/20 rounded-full w-10 h-10 flex items-center justify-center mb-3">
                            <svg class="w-6 h-6 text-[var(--ember-orange)]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 6.75V15m0 0v2.25m0-2.25h1.5m-1.5 0h-1.5m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V7.875m-12.75 0h12.75" /></svg>
                        </div>
                        <h3 class="font-semibold text-white">View Map</h3>
                    </div>
                </button>

                <!-- Card 6: Get a Ride -->
                <button data-modal-target="ride-modal" class="info-card text-left bg-[#1a1a1a] p-4 rounded-xl border border-[var(--ember-orange)]/50 shadow-lg shadow-[var(--ember-orange)]/10 col-span-1 hover:border-[var(--ember-orange)] transition-all">
                    <div class="flex flex-col items-center justify-center h-full">
                        <div class="bg-[var(--ember-orange)]/20 rounded-full w-10 h-10 flex items-center justify-center mb-3">
                            <svg class="w-6 h-6 text-[var(--ember-orange)]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5v-1.875a3.375 3.375 0 003.375-3.375h1.5a1.125 1.125 0 011.125 1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375m15.75 0v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5c0-.621.504-1.125 1.125-1.125h1.5a3.375 3.375 0 003.375 3.375V18.75z" /></svg>
                        </div>
                        <h3 class="font-semibold text-white">Get a Ride</h3>
                    </div>
                </button>

                <!-- Card 7: Add to Calendar -->
                <button data-modal-target="calendar-modal" class="info-card text-left bg-[#1a1a1a] p-4 rounded-xl border border-[var(--ember-orange)]/50 shadow-lg shadow-[var(--ember-orange)]/10 col-span-2 hover:border-[var(--ember-orange)] transition-all">
                    <div class="flex items-center">
                        <div class="bg-[var(--ember-orange)]/20 rounded-full w-10 h-10 flex items-center justify-center mr-4">
                            <svg class="w-6 h-6 text-[var(--ember-orange)]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M12 12.75h.008v.008H12v-.008z" /></svg>
                        </div>
                        <div class="flex-grow text-left">
                            <h3 class="font-semibold text-white">Add to Calendar</h3>
                            <p class="text-sm text-gray-400">Save the date</p>
                        </div>
                        <svg class="w-5 h-5 text-gray-400 group-hover:text-white transition-colors" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" /></svg>
                    </div>
                </button>
            </div>
        </main>

        <!-- Footer / RSVP Form -->
        <footer class="p-4 bg-[#1a1a1a] border-t border-[var(--ember-orange)]/50">
            <form id="rsvpForm" name="rsvp" data-netlify="true">
                <input type="hidden" name="form-name" value="rsvp" />
                <h3 class="font-cinzel text-2xl font-bold text-white mb-3 text-center header-glow">Will You Attend?</h3>
                <div class="space-y-3">
                    <input type="text" name="name" placeholder="Your Name" required class="w-full bg-black border border-[var(--ember-orange)]/50 text-white rounded-lg px-4 py-3 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--ember-orange)]">
                    <input type="email" name="email" placeholder="Your Email" required class="w-full bg-black border border-[var(--ember-orange)]/50 text-white rounded-lg px-4 py-3 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--ember-orange)]">
                    <!-- PHONE NUMBER FIELD ADDED -->
                    <input type="tel" name="phone" placeholder="Phone Number" required class="w-full bg-black border border-[var(--ember-orange)]/50 text-white rounded-lg px-4 py-3 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--ember-orange)]">
                </div>
                 <div class="flex flex-wrap justify-center gap-2 my-4">
                    <input type="radio" id="rsvp-yes" name="attendance" value="yes" class="hidden" required>
                    <label for="rsvp-yes" class="radio-label flex-1 text-center cursor-pointer p-3 rounded-lg border-2 border-transparent bg-black text-gray-400 min-w-[80px]">Yes!</label>
                    <input type="radio" id="rsvp-maybe" name="attendance" value="maybe" class="hidden" required>
                    <label for="rsvp-maybe" class="radio-label flex-1 text-center cursor-pointer p-3 rounded-lg border-2 border-transparent bg-black text-gray-400 min-w-[80px]">Maybe</label>
                    <input type="radio" id="rsvp-no" name="attendance" value="no" class="hidden" required>
                    <label for="rsvp-no" class="radio-label flex-1 text-center cursor-pointer p-3 rounded-lg border-2 border-transparent bg-black text-gray-400 min-w-[80px]">No</label>
                </div>
                <style>
                    input[type="radio"]:checked + .radio-label {
                        background-color: var(--ember-orange);
                        color: black;
                        font-weight: bold;
                        border-color: var(--ember-orange);
                    }
                </style>
                <button type="submit" class="w-full bg-[var(--ember-red)] text-white font-bold py-4 rounded-full text-lg hover:bg-[var(--ember-red)]/80 transition-colors">
                    Send RSVP
                </button>
            </form>
             <div id="confirmationMessage" class="text-center mt-4 text-lg"></div>
        </footer>
    </div>

    <!-- Modal Structure -->
    <div id="info-modal" class="modal-overlay fixed inset-0 bg-black/80 flex items-center justify-center p-4 opacity-0 pointer-events-none">
        <div class="modal-content bg-[#1a1a1a] p-6 rounded-xl border border-[var(--ember-orange)]/50 shadow-lg shadow-[var(--ember-orange)]/20 w-full max-w-sm transform scale-95 opacity-0">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-title" class="font-cinzel text-2xl font-bold text-white header-glow"></h3>
                <button id="modal-close" class="text-gray-400 hover:text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div id="modal-description" class="text-gray-300"></div>
        </div>
    </div>


    <script>
        // --- Modal Data ---
        const modalData = {
            'datetime-modal': {
                title: 'Date & Time',
                description: "The celebration begins at 7:00 PM on Friday, August 2nd, 2025. Be ready for a night of fire and rebirth."
            },
            'location-modal': {
                title: 'Location Details',
                description: `<p class="mb-4">Horizons and More<br>2818 NE Interstate 410 Loop<br>San Antonio, TX 78217</p>
                              <p class="mb-4">Phone: (210) 793-5100</p>
                              <a href="https://www.google.com/maps/dir/?api=1&destination=Horizons+and+More+2818+NE+Interstate+410+Loop+San+Antonio+TX" target="_blank" class="block w-full text-center font-bold bg-[var(--ember-orange)] text-black py-3 px-4 rounded-lg hover:bg-[var(--ember-gold)] transition-colors">Get Directions</a>`
            },
            'dresscode-modal': {
                title: 'Dress Code',
                description: "Embrace the theme: Fly, Flamed, & Fierce. Think bold colors, elegant attire, and anything that makes you feel powerful and unstoppable."
            },
            'vibe-modal': {
                title: 'The Vibe',
                description: "This isn't just a party; it's a celebration of rebirth. Come ready to vibe with royalty. We're bringing the energy, so leave the drama at home and come with nothing but fire."
            },
            'ride-modal': {
                title: 'Get a Ride',
                description: `<div class="flex flex-col gap-4 mt-4">
                                <a href="https://m.uber.com/ul/?action=setPickup&dropoff[formatted_address]=2818%20NE%20Interstate%20410%20Loop%2C%20San%20Antonio%2C%20TX%2078217" target="_blank" class="block w-full text-center font-bold bg-black text-white py-3 px-4 rounded-lg hover:bg-gray-800 transition-colors">Request an Uber</a>
                                <a href="https://lyft.com/ride?id=lyft&destination[address]=2818%20NE%20Interstate%20410%20Loop%2C%20San%20Antonio%2C%20TX%2078217" target="_blank" class="block w-full text-center font-bold bg-pink-600 text-white py-3 px-4 rounded-lg hover:bg-pink-700 transition-colors">Request a Lyft</a>
                             </div>`
            },
            'calendar-modal': {
                title: 'Save the Date',
                description: `<div class="flex flex-col gap-4 mt-4">
                                <a id="google-calendar-link" href="#" target="_blank" class="text-center font-bold bg-blue-600 text-white py-3 px-4 rounded-lg w-full">Add to Google Calendar</a>
                                <a id="outlook-calendar-link" href="#" target="_blank" class="text-center font-bold bg-blue-800 text-white py-3 px-4 rounded-lg w-full">Add to Outlook</a>
                                <a id="ics-download-link" href="#" download="event.ics" class="text-center font-bold bg-gray-600 text-white py-3 px-4 rounded-lg w-full">Download for Other Calendars</a>
                             </div>`
            },
            'map-modal': {
                title: 'Venue Map',
                description: `<div class="map-container mt-4">
                                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3472.937934250238!2d-98.40698712469406!3d29.48773667517658!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x865c8d7e00555555%3A0x954d232c286d393c!2sHorizons%20and%20More!5e0!3m2!1sen!2sus!4v1722212934149!5m2!1sen!2sus" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                             </div>`
            }
        };

        // --- Modal Logic ---
        const infoModal = document.getElementById('info-modal');
        const modalContent = infoModal.querySelector('.modal-content');
        const modalTitle = document.getElementById('modal-title');
        const modalDescription = document.getElementById('modal-description');
        const modalCloseBtn = document.getElementById('modal-close');
        const infoCards = document.querySelectorAll('.info-card');

        function openModal(modalId) {
            const data = modalData[modalId];
            if (!data) return;

            modalTitle.textContent = data.title;
            modalDescription.innerHTML = data.description;

            if (modalId === 'map-modal') {
                modalContent.classList.add('modal-map');
            } else {
                modalContent.classList.remove('modal-map');
            }

            infoModal.classList.remove('opacity-0', 'pointer-events-none');
            modalContent.classList.remove('scale-95', 'opacity-0');
        }

        function closeModal() {
            infoModal.classList.add('opacity-0', 'pointer-events-none');
            modalContent.classList.add('scale-95', 'opacity-0');
        }

        infoCards.forEach(card => {
            card.addEventListener('click', () => {
                const modalId = card.getAttribute('data-modal-target');
                openModal(modalId);
            });
        });

        modalCloseBtn.addEventListener('click', closeModal);
        infoModal.addEventListener('click', (e) => {
            if (e.target === infoModal) {
                closeModal();
            }
        });

        // --- Add to Calendar Logic ---
        document.addEventListener('DOMContentLoaded', function() {
            const event = {
                title: "AJ's Rebirth Get-Together",
                location: "Horizons and More, 2818 NE Interstate 410 Loop, San Antonio, TX 78217",
                description: "Dress Code: Fly, Flamed, & Fierce.",
                startTime: new Date(2025, 7, 2, 19, 0, 0),
                durationHours: 4 
            };
            const endTime = new Date(event.startTime.getTime() + event.durationHours * 60 * 60 * 1000);

            function formatUTC(date) { return date.toISOString().replace(/-|:|\.\d{3}/g, ''); }
            function formatOutlook(date) { return date.toISOString().split('.')[0]; }

            document.querySelector('[data-modal-target="calendar-modal"]').addEventListener('click', () => {
                const googleLink = document.getElementById('google-calendar-link');
                if(googleLink) {
                     googleLink.href = `https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(event.title)}&dates=${formatUTC(event.startTime)}/${formatUTC(endTime)}&details=${encodeURIComponent(event.description)}&location=${encodeURIComponent(event.location)}`;
                }

                const outlookLink = document.getElementById('outlook-calendar-link');
                if(outlookLink) {
                    outlookLink.href = `https://outlook.live.com/calendar/0/deeplink/compose?path=/calendar/action/compose&rru=addevent&subject=${encodeURIComponent(event.title)}&startdt=${formatOutlook(event.startTime)}&enddt=${formatOutlook(endTime)}&body=${encodeURIComponent(event.description)}&location=${encodeURIComponent(event.location)}`;
                }

                const icsLink = document.getElementById('ics-download-link');
                if(icsLink) {
                    const icsContent = [
                        'BEGIN:VCALENDAR', 'VERSION:2.0', 'BEGIN:VEVENT', 'URL:' + document.URL,
                        'DTSTART:' + formatUTC(event.startTime), 'DTEND:' + formatUTC(endTime),
                        'SUMMARY:' + event.title, 'DESCRIPTION:' + event.description, 'LOCATION:' + event.location,
                        'END:VEVENT', 'END:VCALENDAR'
                    ].join('\n');
                    icsLink.href = 'data:text/calendar;charset=utf-8,' + encodeURIComponent(icsContent);
                }
            });
        });

        // --- RSVP Form Logic ---
        const rsvpForm = document.getElementById('rsvpForm');
        if (rsvpForm) {
            const confirmationMessage = document.getElementById('confirmationMessage');
            rsvpForm.addEventListener('submit', function(event) {
                event.preventDefault();
                const formData = new FormData(rsvpForm);
                const name = formData.get('name');
                
                fetch('/', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body: new URLSearchParams(formData).toString()
                })
                .then(() => {
                    rsvpForm.style.display = 'none';
                    confirmationMessage.textContent = `Thank you, ${name}! Your RSVP has been received.`;
                    confirmationMessage.style.color = 'var(--ember-gold)';
                })
                .catch(() => {
                    confirmationMessage.textContent = 'Oops! Something went wrong. Please try again.';
                    confirmationMessage.style.color = 'var(--ember-red)';
                });
            });
        }
    </script>

</body>
</html>
